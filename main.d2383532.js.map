{"version":3,"sources":["scripts/main.js"],"names":["tbody","document","querySelector","thead","heads","querySelectorAll","addEventListener","e","rows","forEach","row","classList","remove","target","parentElement","add","h","head","contains","toggle","index","cellIndex","sorted","sort","prev","curr","prevContent","cells","innerHTML","currContent","Number","slice","replace","localeCompare","append","form","createElement","label","textContent","select","option","city","name","toLowerCase","dataset","qa","input","type","step","body","button","pushNotification","title","description","insertAdjacentHTML","setTimeout","preventDefault","data","FormData","dataObject","Object","fromEntries","entries","length","age","position","salary","newRow","toLocaleString","values","value","newCell","field","prevText","focus","ev","key","blur"],"mappings":"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","file":"main.d2383532.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst thead = document.querySelector('thead');\nconst heads = thead.querySelectorAll('th');\n\n// click on a row\ntbody.addEventListener('click', (e) => {\n  [...tbody.rows].forEach(row => {\n    row.classList.remove('active');\n  });\n\n  e.target.parentElement.classList.add('active');\n});\n\n// sort the table\n\nheads.forEach(h => {\n  h.addEventListener('click', (e) => {\n    heads.forEach(head => {\n      if (head.classList.contains('asc') && head !== e.target) {\n        head.classList.remove('asc');\n      }\n    });\n\n    e.target.classList.toggle('asc');\n\n    const index = e.target.cellIndex;\n\n    const sorted = [...tbody.rows].sort((prev, curr) => {\n      let prevContent = prev.cells[index].innerHTML;\n      let currContent = curr.cells[index].innerHTML;\n\n      if (index === 4) {\n        prevContent = Number(prevContent.slice(1).replace(',', ''));\n        currContent = Number(currContent.slice(1).replace(',', ''));\n\n        if (e.target.classList.contains('asc')) {\n          return prevContent - currContent;\n        } else {\n          return currContent - prevContent;\n        }\n      }\n\n      if (index === 3) {\n        if (e.target.classList.contains('asc')) {\n          return prevContent - currContent;\n        } else {\n          return currContent - prevContent;\n        }\n      }\n\n      if (e.target.classList.contains('asc')) {\n        return prevContent.localeCompare(currContent);\n      } else {\n        return currContent.localeCompare(prevContent);\n      }\n    });\n\n    tbody.innerHTML = '';\n\n    sorted.forEach(row => {\n      tbody.append(row);\n    });\n  });\n});\n\n// add form\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nheads.forEach(head => {\n  const label = document.createElement('label');\n\n  label.textContent = head.textContent;\n\n  if (head.textContent === 'Office') {\n    const select = document.createElement('select');\n    const options = [`Tokyo`, `Singapore`,\n      `London`, `New York`, `Edinburgh`, `San Francisco`];\n\n    options.forEach(option => {\n      const city = document.createElement('option');\n\n      city.textContent = option;\n      select.append(city);\n    });\n\n    select.name = head.textContent.toLowerCase();\n    select.dataset.qa = head.textContent.toLowerCase();\n\n    label.append(select);\n  } else {\n    const input = document.createElement('input');\n\n    if (head.textContent === 'Age' || head.textContent === 'Salary') {\n      input.type = 'number';\n    }\n\n    if (head.textContent === 'Salary') {\n      input.step = 1000;\n    }\n\n    input.name = head.textContent.toLowerCase();\n    input.dataset.qa = head.textContent.toLowerCase();\n\n    label.append(input);\n  }\n\n  form.append(label);\n});\n\ndocument.body.append(form);\n\n// submit button\n\nconst button = document.createElement('button');\n\nbutton.textContent = 'Save to table';\nform.append(button);\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const dataObject = Object.fromEntries(data.entries());\n\n  if (dataObject.name.length < 4) {\n    pushNotification('error', 'Error',\n      'Name should contain more than 4 letters');\n  } else if (Number(dataObject.age) < 18) {\n    pushNotification('error', 'Error', 'Age must be more than 18');\n  } else if (Number(dataObject.age) > 90) {\n    pushNotification('error', 'Error', 'Age must be less than 90');\n  } else if (!dataObject.position || !dataObject.salary) {\n    pushNotification('error', 'Error', 'All fields are required');\n  } else {\n    pushNotification('success', 'Success', 'New employee was added');\n\n    const newRow = document.createElement('tr');\n\n    dataObject.salary = '$' + Number(dataObject.salary).toLocaleString('en-US');\n\n    Object.values(dataObject).forEach(value => {\n      const newCell = document.createElement('td');\n\n      newCell.textContent = value;\n      newRow.append(newCell);\n    });\n\n    tbody.append(newRow);\n\n    form.querySelectorAll('input').forEach(field => {\n      field.value = '';\n    });\n  }\n});\n\n// editing on double click\n\ntbody.addEventListener('dblclick', (e) => {\n  const prevText = e.target.textContent;\n  const index = e.target.cellIndex;\n\n  e.target.textContent = '';\n\n  let input = document.createElement('input');\n\n  input.classList.add('cell-input');\n\n  if (index === 2) {\n    const select = document.createElement('select');\n    const options = [`Tokyo`, `Singapore`,\n      `London`, `New York`, `Edinburgh`, `San Francisco`];\n\n    options.forEach(option => {\n      const city = document.createElement('option');\n\n      city.textContent = option;\n      city.value = option;\n      select.append(city);\n    });\n\n    input = select;\n  }\n\n  if (index === 3) {\n    input.type = 'number';\n  }\n\n  if (index === 4) {\n    input.type = 'number';\n    input.step = 1000;\n  }\n\n  e.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    switch (index) {\n      case 0:\n        if (input.value.length < 4) {\n          pushNotification('error', 'Error',\n            'Name should have more than 4 letters');\n          e.target.textContent = prevText;\n\n          return;\n        } else {\n          e.target.textContent = input.value;\n        }\n        break;\n\n      case 1:\n        if (input.value) {\n          e.target.textContent = input.value;\n        } else {\n          pushNotification('error', 'Error', 'Enter data, please');\n          e.target.textContent = prevText;\n\n          return;\n        }\n        break;\n\n      case 2:\n        if (input.value) {\n          e.target.textContent = input.value;\n        } else {\n          e.target.textContent = prevText;\n        }\n        break;\n\n      case 3:\n        if (input.value < 18) {\n          pushNotification('error', 'Error', 'Age must be more than 18');\n          e.target.textContent = prevText;\n\n          return;\n        } else if (input.value > 90) {\n          pushNotification('error', 'Error', 'Age must be less than 90');\n          e.target.textContent = prevText;\n\n          return;\n        } else {\n          e.target.textContent = input.value;\n        }\n        break;\n\n      case 4:\n        if (input.value) {\n          e.target.textContent = '$'\n          + Number(input.value).toLocaleString('en-US');\n        } else {\n          pushNotification('error', 'Error', 'Enter data, please');\n          e.target.textContent = prevText;\n        }\n        break;\n\n      default:\n        pushNotification('error', 'Error', 'Unexpected error...');\n    }\n\n    input.remove();\n  });\n\n  input.addEventListener('keydown', ev => {\n    if (ev.key === 'Enter') {\n      input.blur();\n    }\n  });\n});\n\n// notification function\nfunction pushNotification(type, title, description) {\n  document.body.insertAdjacentHTML('beforeend', `\n  <div class=\"notification ${type}\" data-qa=\"notification\">\n    <h2 class=\"title\">\n      ${title}\n    </h2>\n    <p>\n      ${description}\n    </p>\n  </div>\n  `);\n\n  setTimeout(() => document.querySelector('.notification').remove(), 3000);\n}\n"]}